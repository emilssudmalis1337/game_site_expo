{% extends "base.html" %}
{% block title %}Sign Up{% endblock %}

{% block content %}
<h2 class="mb-4">Sign up</h2>

<form method="post" class="needs-validation" novalidate>
    {% csrf_token %}

    {# ---------- Role selector (appears only once) ---------- #}
    <fieldset class="mb-4">
        <legend class="col-form-label pt-0">Choose your role</legend>
        {{ form.user_type }}
        {% if form.user_type.errors %}
            <div class="invalid-feedback d-block">
                {{ form.user_type.errors|join:", " }}
            </div>
        {% endif %}
    </fieldset>

    {# ---------- Username field ---------- #}
    <div class="mb-3">
        {{ form.username.label_tag }}
        {{ form.username }}
        {% if form.username.errors %}
            <div class="invalid-feedback d-block">
                {{ form.username.errors|join:", " }}
            </div>
        {% endif %}
    </div>

    {# ---------- Password1 (with help text) ---------- #}
    <div class="mb-3">
        {{ form.password1.label_tag }}
        {{ form.password1 }}
        {% if form.password1.help_text %}
            <small class="form-text text-muted">
                {{ form.password1.help_text|safe }}
            </small>
        {% endif %}
        {% if form.password1.errors %}
            <div class="invalid-feedback d-block">
                {{ form.password1.errors|join:", " }}
            </div>
        {% endif %}
    </div>

    {# ---------- Password2 (repeat) ---------- #}
    <div class="mb-3">
        {{ form.password2.label_tag }}
        {{ form.password2 }}
        {% if form.password2.errors %}
            <div class="invalid-feedback d-block">
                {{ form.password2.errors|join:", " }}
            </div>
        {% endif %}
    </div>

    {# ---------- Submit button & login link ---------- #}
    <button type="submit" class="btn btn-success">SignÂ Up</button>
    <a class="btn btn-outline-secondary ms-2"
       href="{% url 'login' %}">Already have an account? Log in</a>
</form>
{% endblock %}